<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta
      http-equiv="Content-Security-Policy"
      content="
default-src 'self';
script-src 'self' 'unsafe-inline';
style-src 'self' https://fonts.googleapis.com 'unsafe-inline';
font-src https://fonts.gstatic.com;
img-src 'self' data:;
connect-src 'self';
object-src 'none';
base-uri 'self';
frame-ancestors 'none';
form-action 'self';
upgrade-insecure-requests;
block-all-mixed-content;
"
    />

    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="Referrer-Policy" content="no-referrer" />
    <meta http-equiv="X-Frame-Options" content="DENY" />

    <title>Connect | Harmonia Fortuna</title>
    <meta
      name="description"
      content="Contact Harmonia Fortuna to discuss long term partnership. All conversations are handled with discretion and care."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400&display=swap"
      rel="stylesheet"
    />

    <link
      rel="icon"
      href="public/HF Logo 32x32.png"
      sizes="32x32"
      type="image/png"
    />
    <link
      rel="icon"
      href="public/HF Logo.ico"
      type="image/x-icon"
      sizes="32x32"
    />
    <link rel="icon" href="public/HF Logo.svg" type="image/svg+xml" />
    <style>
      :root {
        --page-bg: #f6f6f6;
        --container-bg: #f9f9f9;
        --text: #000;
        --cursor: #777;
      }
      body.dark {
        --page-bg: #0f0f0f;
        --container-bg: #121212;
        --text: #fff;
        --cursor: #aaa;
      }
      body {
        margin: 0;
        background: var(--page-bg);
        font-family: 'Inter', sans-serif;
        color: var(--text);
        transition: 0.4s;
        cursor: none;
        user-select: none;
      }
      body.rtl {
        direction: rtl;
      }

      .outer {
        min-height: 100vh;
        padding: clamp(6px, 2vw, 14px);
      }
      .inner {
        min-height: calc(100vh - clamp(12px, 3vw, 28px));
        background: linear-gradient(
          to bottom,
          var(--container-bg),
          rgba(0, 0, 0, 0.01)
        );
        border-radius: 18px;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.015);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .back-top {
        position: absolute;
        top: clamp(18px, 3vh, 28px);
        left: clamp(18px, 3vw, 40px);
        font-size: clamp(10px, 1vw, 11px);
        opacity: 0.6;
        cursor: pointer;
      }
      body.rtl .back-top {
        left: auto;
        right: clamp(18px, 3vw, 40px);
      }

      .lang {
        position: absolute;
        top: clamp(18px, 3vh, 28px);
        right: clamp(18px, 3vw, 40px);
        font-size: clamp(9px, 1vw, 13px);
        opacity: 0.35;
      }
      body.rtl .lang {
        right: auto;
        left: clamp(18px, 3vw, 40px);
      }
      .lang span {
        margin-left: clamp(10px, 1.5vw, 16px);
        cursor: pointer;
      }

      .lang-fade-out {
        opacity: 0;
        transform: translateY(3px);
        transition: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .lang-fade-in {
        opacity: 1;
        transform: translateY(0);
        transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .content {
        width: min(92%, 500px);
        text-align: left;
      }
      body.rtl .content {
        text-align: right;
      }

      .title {
        font-size: clamp(20px, 3vw, 30px);
        font-weight: 300;
        letter-spacing: 2px;
      }

      .subtitle {
        margin-top: 6px;
        font-size: clamp(12px, 1.4vw, 14px);
        font-weight: 300;
        letter-spacing: 0.5px;
        opacity: 0.65;
        line-height: 1.5;
      }

      .form-box {
        margin-top: clamp(16px, 3vh, 24px);
        display: flex;
        flex-direction: column;
        gap: clamp(10px, 2vh, 14px);
      }

      .form-box input,
      .form-box textarea {
        background: transparent;
        border: none;
        border-bottom: 1px solid rgba(0, 0, 0, 0.2);
        padding: 8px 2px;
        font-size: clamp(13px, 1.3vw, 14px);
        color: var(--text);
        outline: none;
      }
      body.dark .form-box input,
      body.dark .form-box textarea {
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }
      body.rtl input,
      body.rtl textarea {
        text-align: right;
      }

      textarea {
        resize: none;
        min-height: 80px;
      }

      .checkbox-row {
        font-size: clamp(11px, 1.2vw, 12px);
        opacity: 0.7;
      }

      button {
        background: transparent;
        border: 1px solid currentColor;
        padding: 10px 0;
        font-size: clamp(12px, 1.3vw, 13px);
        cursor: pointer;
        transition: 0.3s;
        color: var(--text);
        margin-top: 6px;
      }
      body:not(.dark) button:hover {
        background: #000;
        color: #fff;
      }
      body.dark button:hover {
        background: #fff;
        color: #000;
      }

      .notification {
        font-size: clamp(11px, 1.2vw, 12px);
        margin-top: 4px;
        opacity: 0;
        transition: 0.3s;
      }
      .notification.error {
        color: #c44;
      }
      .notification.success {
        color: #2a8a2a;
      }
      .notification.show {
        opacity: 1;
      }

      .actions {
        position: absolute;
        bottom: clamp(40px, 6vh, 55px);
        left: 50%;
        transform: translateX(-50%);
        font-size: clamp(10px, 1vw, 11px);
        opacity: 0.6;
      }

      .footer {
        position: absolute;
        bottom: clamp(14px, 3vh, 20px);
        left: 50%;
        transform: translateX(-50%);
        font-size: clamp(8px, 0.8vw, 11px);
        opacity: 0.26;
        text-align: center;
      }

      .cursor-dot {
        position: fixed;
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: var(--cursor);
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 9999;
      }

      /* ===== MOBILE FOOTER REFINEMENTS ===== */
      @media (max-width: 600px) {
        /* Footer single line */
        .footer {
          white-space: nowrap !important;
          bottom: 8px !important;
        }

        /* Reduce space between form column and footer */
        .actions {
          bottom: 45px !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="cursor-dot" id="cursor"></div>

    <div class="outer">
      <div class="inner">
        <div class="back-top" id="backBtn">← Back</div>

        <div class="lang" id="langMenu">
          <span data-lang="en">EN</span>
          <span data-lang="cn">中文</span>
          <span data-lang="ru">RU</span>
          <span data-lang="ar">AR</span>
        </div>

        <div class="content">
          <div class="title" id="title">Business Inquiries</div>
          <div class="subtitle" id="subtitle">
            We serve a limited number of families through bespoke, long-term
            mandates. For confidential inquiries, please use the form below.
          </div>
          <form class="form-box" id="contactForm" autocomplete="off" novalidate>
            <input type="text" id="company" style="display: none" />
            <input type="text" id="fullname" placeholder="Full Name" />
            <input type="email" id="email" placeholder="E-Mail" />
            <input type="tel" id="phone" placeholder="Telefon" />
            <textarea id="message" placeholder="Message"></textarea>

            <div class="checkbox-row">
              <input type="checkbox" id="consent" />
              <label for="consent" id="consentLabel"
                >I agree to be contacted</label
              >
            </div>

            <button type="button" id="sendBtn">Send Inquiry</button>
            <div class="notification error" id="errorMsg"></div>
            <div class="notification success" id="successMsg"></div>
          </form>
        </div>

        <div class="actions">
          <span id="modeToggle">Dark Mode</span>
        </div>

        <div class="footer">
          ©<span id="year"></span> Harmonia Fortuna |
          <span onclick="window.location.href = 'privacy.html'">
            Privacy Policy
          </span>
          |
          <span onclick="window.location.href = 'terms.html'">
            Terms of Service
          </span>
        </div>
      </div>
    </div>

    <script>
      'use strict';

      document.getElementById('year').textContent = new Date().getFullYear();
      backBtn.onclick = () => (window.location.href = 'menu.html');

      const modeToggle = document.getElementById('modeToggle');
      modeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark');
        modeToggle.textContent = document.body.classList.contains('dark')
          ? 'Light Mode'
          : 'Dark Mode';
      });

      const translations = {
        en: {
          title: 'Business Inquiries',
          subtitle:
            'We serve a limited number of families through bespoke, long-term mandates. For confidential inquiries, please use the form below.',
          back: '← Back',
          name: 'Full Name',
          email: 'E-Mail',
          phone: 'Telefon',
          message: 'Message',
          consent: 'I agree to be contacted',
          send: 'Send Inquiry',
          error: 'All fields must be completed correctly.',
          cooldown: 'Please wait 60 seconds before sending again.',
          success: 'Inquiry sent successfully.',
        },
        cn: {
          title: '商务咨询',
          subtitle:
            '我们仅为少数家族提供定制化的长期投资委托。若有保密咨询需求，请通过下方表格联系。',
          back: '← 返回',
          name: '姓名',
          email: '电子邮件',
          phone: '电话',
          message: '留言',
          consent: '我同意被联系',
          send: '发送咨询',
          error: '请正确填写所有字段。',
          cooldown: '请等待60秒后再次发送。',
          success: '咨询已成功发送。',
        },
        ru: {
          title: 'Деловые запросы',
          subtitle:
            'Мы обслуживаем ограниченное число семей в рамках индивидуальных долгосрочных мандатов. Для конфиденциального запроса воспользуйтесь формой ниже.',
          back: '← Назад',
          name: 'Полное имя',
          email: 'Электронная почта',
          phone: 'Телефон',
          message: 'Сообщение',
          consent: 'Я согласен на обратную связь',
          send: 'Отправить запрос',
          error: 'Все поля должны быть заполнены корректно.',
          cooldown: 'Подождите 60 секунд перед повторной отправкой.',
          success: 'Запрос успешно отправлен.',
        },
        ar: {
          title: 'الاستفسارات التجارية',
          subtitle:
            'نخدم عدداً محدوداً من العائلات من خلال تفويضات استثمارية مخصصة وطويلة الأجل. للاستفسارات السرية، يرجى استخدام النموذج أدناه.',
          back: 'رجوع →',
          name: 'الاسم الكامل',
          email: 'البريد الإلكتروني',
          phone: 'الهاتف',
          message: 'الرسالة',
          consent: 'أوافق على أن يتم التواصل معي',
          send: 'إرسال الطلب',
          error: 'يجب ملء جميع الحقول بشكل صحيح.',
          cooldown: 'يرجى الانتظار 60 ثانية قبل الإرسال مرة أخرى.',
          success: 'تم إرسال الطلب بنجاح.',
        },
      };

      langMenu.addEventListener('click', (e) => {
        if (!e.target.dataset.lang) return;
        const lang = e.target.dataset.lang;
        const t = translations[lang];

        const elements = [
          title,
          subtitle,
          backBtn,
          fullname,
          email,
          phone,
          message,
          sendBtn,
          consentLabel,
        ];
        elements.forEach((el) => {
          el.classList.remove('lang-fade-in');
          el.classList.add('lang-fade-out');
        });

        setTimeout(() => {
          document.body.classList.toggle('rtl', lang === 'ar');
          document.documentElement.lang = lang;

          title.textContent = t.title;
          subtitle.textContent = t.subtitle;
          backBtn.textContent = t.back;
          fullname.placeholder = t.name;
          email.placeholder = t.email;
          phone.placeholder = t.phone;
          message.placeholder = t.message;
          consentLabel.textContent = t.consent;
          sendBtn.textContent = t.send;

          elements.forEach((el) => {
            el.classList.remove('lang-fade-out');
            el.classList.add('lang-fade-in');
          });
        }, 200);
      });

      phone.addEventListener(
        'input',
        () => (phone.value = phone.value.replace(/[^0-9]/g, '')),
      );

      let lastSubmit = 0;

      sendBtn.addEventListener('click', () => {
        const lang = document.documentElement.lang || 'en';
        const t = translations[lang];
        const now = Date.now();

        if (now - lastSubmit < 60000) {
          showError(t.cooldown);
          return;
        }

        if (company.value) return;

        const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value);

        if (
          !fullname.value.trim() ||
          !emailValid ||
          !phone.value.trim() ||
          !message.value.trim() ||
          !consent.checked
        ) {
          showError(t.error);
          return;
        }

        lastSubmit = Date.now();
        showSuccess(t.success);
        contactForm.reset();
      });

      function showError(msg) {
        errorMsg.textContent = msg;
        errorMsg.classList.add('show');
        successMsg.classList.remove('show');
        setTimeout(() => errorMsg.classList.remove('show'), 4000);
      }
      function showSuccess(msg) {
        successMsg.textContent = msg;
        successMsg.classList.add('show');
        errorMsg.classList.remove('show');
        setTimeout(() => successMsg.classList.remove('show'), 4000);
      }

      const cursor = document.getElementById('cursor');
      let cx = innerWidth / 2,
        cy = innerHeight / 2,
        tx = cx,
        ty = cy;
      addEventListener('mousemove', (e) => {
        tx = e.clientX;
        ty = e.clientY;
      });
      (function animateCursor() {
        cx += (tx - cx) * 0.15;
        cy += (ty - cy) * 0.15;
        cursor.style.left = cx + 'px';
        cursor.style.top = cy + 'px';
        requestAnimationFrame(animateCursor);
      })();
    </script>
  </body>
</html>
