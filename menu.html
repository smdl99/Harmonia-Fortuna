<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta
      http-equiv="Content-Security-Policy"
      content="
default-src 'self';
script-src 'self' 'unsafe-inline';
style-src 'self' https://fonts.googleapis.com 'unsafe-inline';
font-src https://fonts.gstatic.com;
img-src 'self' data:;
object-src 'none';
base-uri 'self';
frame-ancestors 'none';
form-action 'self';
upgrade-insecure-requests;
"
    />

    <title>Harmonia Fortuna — Menu</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400&display=swap"
      rel="stylesheet"
    />

    <link
      rel="icon"
      href="public/HF Logo 32x32.png"
      sizes="32x32"
      type="image/png"
    />
    <link
      rel="icon"
      href="public/HF Logo.ico"
      type="image/x-icon"
      sizes="32x32"
    />
    <link rel="icon" href="public/HF Logo.svg" type="image/svg+xml" />

    <style>
      :root {
        --page-bg: #f6f6f6;
        --container-bg: #f9f9f9;
        --text: #000;
        --game: #000;
        --cursor: #777;
      }
      body.dark {
        --page-bg: #0f0f0f;
        --container-bg: #121212;
        --text: #fff;
        --game: #f2f2f2;
        --cursor: #aaa;
      }
      body {
        margin: 0;
        background: var(--page-bg);
        font-family: 'Inter', sans-serif;
        color: var(--text);
        transition: 0.4s;
        cursor: none;
        user-select: none;
      }
      body.rtl {
        direction: rtl;
      }

      .outer {
        min-height: 100vh;
        padding: clamp(4px, 1vw, 8px);
      }
      .inner {
        min-height: calc(100vh - clamp(8px, 2vw, 16px));
        background: linear-gradient(
          to bottom,
          var(--container-bg),
          rgba(0, 0, 0, 0.01)
        );
        border-radius: 18px;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.015);
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
      }

      .lang {
        position: absolute;
        top: clamp(18px, 3vh, 28px);
        right: clamp(18px, 3vw, 40px);
        font-size: clamp(9px, 1vw, 13px);
        opacity: 0.35;
      }
      body.rtl .lang {
        right: auto;
        left: clamp(18px, 3vw, 40px);
      }
      .lang span {
        margin-left: clamp(10px, 1.5vw, 16px);
        cursor: pointer;
      }

      .content {
        text-align: center;
        padding: 0 clamp(10px, 4vw, 40px);
      }

      canvas {
        width: min(260px, 40vw);
        max-width: 280px;
        aspect-ratio: 3/2;
        display: block;
        margin: 0 auto clamp(18px, 3vh, 26px);
      }

      .sections {
        font-size: clamp(14px, 1.8vw, 18px);
        letter-spacing: 0.8px;
        opacity: 0.75;
      }
      .sections a,
      .sections span {
        cursor: pointer;
        margin: 0 clamp(6px, 1vw, 10px);
        position: relative;
        color: inherit;
        text-decoration: none;
      }
      .sections a::after,
      .sections span::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: -2px;
        width: 0;
        height: 1px;
        background: currentColor;
        transition: 0.3s;
      }
      .sections span:hover::after,
      .sections a:hover::after {
        width: 100%;
      }

      .lang-fade-out {
        opacity: 0;
        transform: translateY(3px);
        transition: 0.25s ease;
      }
      .lang-fade-in {
        opacity: 1;
        transform: translateY(0);
        transition: 0.35s ease;
      }

      .address {
        margin-top: clamp(20px, 3vh, 26px);
        font-size: clamp(11px, 1.2vw, 13px);
        opacity: 0.55;
        line-height: 1.5;
      }

      .clocks {
        margin-top: clamp(34px, 4vh, 44px);
        display: flex;
        justify-content: center;
        gap: clamp(36px, 6vw, 70px);
      }

      .clock {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }

      .clock-top {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .clock-svg {
        width: 13px;
        height: 13px;
      }
      .clock-hand {
        stroke: currentColor;
        stroke-linecap: round;
        transform-origin: 50% 50%;
      }
      .time-text {
        font-size: clamp(9px, 0.9vw, 11px);
        font-weight: 300;
      }

      .location-label {
        margin-left: 19px;
        font-size: clamp(5px, 0.55vw, 7px);
        opacity: 0.18;
        letter-spacing: 1px;
      }

      .actions {
        position: absolute;
        bottom: clamp(40px, 6vh, 55px);
        left: 50%;
        transform: translateX(-50%);
        font-size: clamp(10px, 1vw, 11px);
        opacity: 0.6;
      }
      .actions span,
      .actions a {
        margin: 0 clamp(4px, 1vw, 8px);
        cursor: pointer;
        position: relative;
      }
      .actions span::after,
      .footer span::after,
      .actions a::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: -2px;
        width: 0;
        height: 1px;
        background: currentColor;
        transition: 0.3s;
      }
      .actions span:hover::after,
      .footer span:hover::after,
      .actions a:hover::after {
        width: 100%;
      }

      .footer {
        position: absolute;
        bottom: clamp(14px, 3vh, 20px);
        left: 50%;
        transform: translateX(-50%);
        font-size: clamp(8px, 0.8vw, 11px);
        opacity: 0.26;
        text-align: center;
      }
      .footer span {
        margin: 0 clamp(4px, 1vw, 6px);
        cursor: pointer;
        position: relative;
      }

      .cursor-dot {
        position: fixed;
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: var(--cursor);
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 9999;
      }

      /* ===== AGGRESSIVE MOBILE SPACE REDUCTION (NO CODE REMOVED) ===== */
      @media (max-width: 600px) {
        .outer {
          padding: 4px !important;
          min-height: 100dvh !important;
        }

        .inner {
          min-height: calc(100dvh - 8px) !important;
          padding-top: 8px !important;
          padding-bottom: 8px !important;
          align-items: center !important;
        }

        .content {
          padding: 0 8px !important;
        }

        /* Make animation 30% bigger */
        canvas {
          width: 260px !important;
          max-width: 260px !important;
          margin-bottom: 10px !important;
        }

        .address {
          margin-top: 8px !important;
        }

        .clocks {
          margin-top: 10px !important;
        }

        .actions {
          bottom: 38px !important;
        }

        .footer {
          bottom: 4px !important;
          white-space: nowrap;
        }
      }

      /* ===== EXTRA 15% VERTICAL COMPRESSION (MOBILE ONLY) ===== */
      /* === MOBILE ADDRESS SPACING ENHANCEMENT === */

      .address {
        margin-top: 22px !important;
        margin-bottom: 22px !important;
      }

      @media (max-width: 600px) {
        .outer {
          padding: 2px !important;
        }

        .inner {
          min-height: calc(100dvh - 4px) !important;
          padding-top: 4px !important;
          padding-bottom: 4px !important;
        }

        .address {
          margin-top: 6px !important;
        }

        .clocks {
          margin-top: 6px !important;
        }

        .actions {
          bottom: 34px !important;
        }

        .footer {
          bottom: 2px !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="cursor-dot" id="cursor"></div>

    <div class="outer">
      <div class="inner">
        <div class="lang" id="langMenu">
          <span data-lang="en">EN</span>
          <span data-lang="cn">中文</span>
          <span data-lang="ru">RU</span>
          <span data-lang="ar">AR</span>
        </div>

        <div class="content">
          <canvas id="pong"></canvas>

          <div class="sections" id="sections"></div>

          <div class="address">
            Chemin Jean-Baptiste Vandelle 3A<br />
            Lakeside Geneva Building,<br />
            Geneva, 1290, Switzerland
          </div>

          <div class="clocks">
            <div class="clock">
              <div class="clock-top">
                <svg class="clock-svg" viewBox="0 0 20 20">
                  <circle
                    cx="10"
                    cy="10"
                    r="8"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1"
                  />
                  <line
                    id="nyHour"
                    class="clock-hand"
                    x1="10"
                    y1="10"
                    x2="10"
                    y2="6"
                    stroke-width="1.3"
                  />
                  <line
                    id="nyMinute"
                    class="clock-hand"
                    x1="10"
                    y1="10"
                    x2="10"
                    y2="4"
                    stroke-width="1"
                  />
                </svg>
                <div id="nyTime" class="time-text"></div>
              </div>
              <div id="nyCity" class="location-label"></div>
            </div>

            <div class="clock">
              <div class="clock-top">
                <svg class="clock-svg" viewBox="0 0 20 20">
                  <circle
                    cx="10"
                    cy="10"
                    r="8"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1"
                  />
                  <line
                    id="frHour"
                    class="clock-hand"
                    x1="10"
                    y1="10"
                    x2="10"
                    y2="6"
                    stroke-width="1.3"
                  />
                  <line
                    id="frMinute"
                    class="clock-hand"
                    x1="10"
                    y1="10"
                    x2="10"
                    y2="4"
                    stroke-width="1"
                  />
                </svg>
                <div id="frTime" class="time-text"></div>
              </div>
              <div id="frCity" class="location-label"></div>
            </div>

            <div class="clock">
              <div class="clock-top">
                <svg class="clock-svg" viewBox="0 0 20 20">
                  <circle
                    cx="10"
                    cy="10"
                    r="8"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1"
                  />
                  <line
                    id="sgHour"
                    class="clock-hand"
                    x1="10"
                    y1="10"
                    x2="10"
                    y2="6"
                    stroke-width="1.3"
                  />
                  <line
                    id="sgMinute"
                    class="clock-hand"
                    x1="10"
                    y1="10"
                    x2="10"
                    y2="4"
                    stroke-width="1"
                  />
                </svg>
                <div id="sgTime" class="time-text"></div>
              </div>
              <div id="sgCity" class="location-label"></div>
            </div>
          </div>

          <div class="actions">
            <a href="/" id="homeBtn">Home</a>
            <span id="modeBtn">Dark Mode</span>
          </div>
        </div>

        <div class="footer">
          ©<span id="year"></span> Harmonia Fortuna |
          <span id="privacyBtn">Privacy Policy</span> |
          <span id="termsBtn">Terms of Service</span>
        </div>
      </div>
    </div>

    <script>
      'use strict';

      /* YEAR */
      document.getElementById('year').textContent = new Date().getFullYear();

      /* TRANSLATIONS */
      const translations = {
        en: {
          sections: ['About', 'Inquiries', 'Philanthropy', 'Login'],
          home: 'Home',
          dark: 'Dark Mode',
          light: 'Light Mode',
          privacy: 'Privacy Policy',
          terms: 'Terms of Service',
          cities: ['New York', 'Geneva', 'Hong Kong'],
        },
        cn: {
          sections: ['关于', '咨询', '慈善事业', '登录'],
          home: '主页',
          dark: '深色模式',
          light: '浅色模式',
          privacy: '隐私政策',
          terms: '服务条款',
          cities: ['纽约', '日内瓦', '香港'],
        },
        ru: {
          sections: ['О нас', 'Запросы', 'Филантропия', 'Вход'],
          home: 'Главная',
          dark: 'Тёмный режим',
          light: 'Светлый режим',
          privacy: 'Конфиденциальность',
          terms: 'Условия',
          cities: ['Нью-Йорк', 'Женева', 'Гонконг'],
        },
        ar: {
          sections: ['حول', 'استفسارات', 'العمل الخيري', 'تسجيل الدخول'],
          home: 'الرئيسية',
          dark: 'الوضع الداكن',
          light: 'الوضع الفاتح',
          privacy: 'سياسة الخصوصية',
          terms: 'الشروط',
          cities: ['نيويورك', 'جنيف', 'هونغ كونغ'],
        },
      };

      let currentLang = 'en';

      function updateModeButton() {
        const t = translations[currentLang];
        modeBtn.textContent = document.body.classList.contains('dark')
          ? t.light
          : t.dark;
      }

      function setLang(lang) {
        currentLang = lang;

        const elements = [
          sections,
          homeBtn,
          modeBtn,
          privacyBtn,
          termsBtn,
          nyCity,
          frCity,
          sgCity,
        ];

        elements.forEach((el) => {
          el.classList.remove('lang-fade-in');
          el.classList.add('lang-fade-out');
        });

        setTimeout(() => {
          document.body.classList.toggle('rtl', lang === 'ar');
          document.documentElement.lang = lang;

          const t = translations[lang];

          sections.innerHTML = `<a href="/about.html">${t.sections[0]}</a> |
       <a href="/contact.html">${t.sections[1]}</a> |
       <a href="/philanthropy.html">${t.sections[2]}</a> |
       <a href="/login.html">${t.sections[3]}</span>`;

          homeBtn.textContent = t.home;
          privacyBtn.textContent = t.privacy;
          termsBtn.textContent = t.terms;

          nyCity.textContent = t.cities[0];
          frCity.textContent = t.cities[1];
          sgCity.textContent = t.cities[2];

          updateModeButton();

          elements.forEach((el) => {
            el.classList.remove('lang-fade-out');
            el.classList.add('lang-fade-in');
          });
        }, 200);
      }

      langMenu.addEventListener('click', (e) => {
        if (e.target.dataset.lang) setLang(e.target.dataset.lang);
      });

      modeBtn.addEventListener('click', () => {
        document.body.classList.toggle('dark');
        updateModeButton();
      });

      setLang('en');

      /* CURSOR */
      const cursor = document.getElementById('cursor');
      let cx = innerWidth / 2,
        cy = innerHeight / 2,
        tx = cx,
        ty = cy;
      addEventListener('mousemove', (e) => {
        tx = e.clientX;
        ty = e.clientY;
      });
      (function animateCursor() {
        cx += (tx - cx) * 0.15;
        cy += (ty - cy) * 0.15;
        cursor.style.left = cx + 'px';
        cursor.style.top = cy + 'px';
        requestAnimationFrame(animateCursor);
      })();

      /* CLOCKS */
      function updateClock(zone, hourId, minuteId, textId) {
        const now = new Date();
        const parts = new Intl.DateTimeFormat('en-US', {
          timeZone: zone,
          hour: '2-digit',
          minute: '2-digit',
          hour12: false,
        }).formatToParts(now);

        const hour = parseInt(parts.find((p) => p.type === 'hour').value);
        const minute = parseInt(parts.find((p) => p.type === 'minute').value);

        document.getElementById(textId).textContent =
          `${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}`;

        document.getElementById(hourId).style.transform =
          `rotate(${((hour % 12) + minute / 60) * 30}deg)`;
        document.getElementById(minuteId).style.transform =
          `rotate(${minute * 6}deg)`;
      }
      function updateAllClocks() {
        updateClock('America/New_York', 'nyHour', 'nyMinute', 'nyTime');
        updateClock('Europe/Berlin', 'frHour', 'frMinute', 'frTime');
        updateClock('Asia/Hong_Kong', 'sgHour', 'sgMinute', 'sgTime');
      }
      setInterval(updateAllClocks, 1000);
      updateAllClocks();

      /* ORIGINAL NETWORK ANIMATION (unchanged) */
      const canvas = document.getElementById('pong');
      const ctx = canvas.getContext('2d');
      let WIDTH, HEIGHT, DPR;
      function resizeCanvas() {
        const rect = canvas.getBoundingClientRect();
        DPR = devicePixelRatio || 1;
        WIDTH = rect.width;
        HEIGHT = rect.height;
        canvas.width = WIDTH * DPR;
        canvas.height = HEIGHT * DPR;
        ctx.setTransform(1, 0, 0, 1, 0, 0);
        ctx.scale(DPR, DPR);
      }
      resizeCanvas();
      addEventListener('resize', resizeCanvas);

      const NODE_COUNT = 8;
      const MAX_DIST = 150;
      const MAX_DIST_SQ = MAX_DIST * MAX_DIST;
      const LOOP_DURATION = 30000;
      const REPULSION_RADIUS = 110;

      const nodes = [];
      let mouse = { x: 0, y: 0 };

      canvas.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        mouse.x = e.clientX - rect.left;
        mouse.y = e.clientY - rect.top;
      });

      for (let i = 0; i < NODE_COUNT; i++) {
        nodes.push({
          ampX: 40 + Math.random() * 60,
          ampY: 35 + Math.random() * 55,
          freqX: 1 + Math.floor(Math.random() * 3),
          freqY: 1 + Math.floor(Math.random() * 3),
          phaseX: Math.random() * Math.PI * 2,
          phaseY: Math.random() * Math.PI * 2,
          x: WIDTH / 2,
          y: HEIGHT / 2,
          vx: 0,
          vy: 0,
        });
      }

      function animate(timestamp) {
        const progress = (timestamp % LOOP_DURATION) / LOOP_DURATION;
        const t = progress * Math.PI * 2;

        ctx.clearRect(0, 0, WIDTH, HEIGHT);
        const color = getComputedStyle(document.body)
          .getPropertyValue('--game')
          .trim();

        for (const n of nodes) {
          const targetX = WIDTH / 2 + Math.sin(t * n.freqX + n.phaseX) * n.ampX;
          const targetY =
            HEIGHT / 2 + Math.cos(t * n.freqY + n.phaseY) * n.ampY;

          n.vx += (targetX - n.x) * 0.02;
          n.vy += (targetY - n.y) * 0.02;

          const dx = n.x - mouse.x,
            dy = n.y - mouse.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist > 0 && dist < REPULSION_RADIUS) {
            const force = 1 - dist / REPULSION_RADIUS;
            n.vx += (dx / dist) * force * 2;
            n.vy += (dy / dist) * force * 2;
          }

          n.vx *= 0.9;
          n.vy *= 0.9;
          n.x += n.vx;
          n.y += n.vy;
        }

        for (let i = 0; i < nodes.length; i++) {
          for (let j = i + 1; j < nodes.length; j++) {
            const dx = nodes[i].x - nodes[j].x;
            const dy = nodes[i].y - nodes[j].y;
            const distSq = dx * dx + dy * dy;
            if (distSq < MAX_DIST_SQ) {
              const alpha = 0.3 * (1 - distSq / MAX_DIST_SQ);
              ctx.strokeStyle =
                color === '#000'
                  ? `rgba(0,0,0,${alpha})`
                  : `rgba(242,242,242,${alpha})`;
              ctx.lineWidth = 1;
              ctx.beginPath();
              ctx.moveTo(nodes[i].x, nodes[i].y);
              ctx.lineTo(nodes[j].x, nodes[j].y);
              ctx.stroke();
            }
          }
        }

        ctx.fillStyle = color;
        for (const n of nodes) {
          ctx.beginPath();
          ctx.arc(n.x, n.y, 3.2, 0, Math.PI * 2);
          ctx.fill();
        }

        requestAnimationFrame(animate);
      }
      requestAnimationFrame(animate);
    </script>
  </body>
</html>
